(this["webpackJsonppa-react-boilerplate"]=this["webpackJsonppa-react-boilerplate"]||[]).push([[0],{394:function(e,t,a){e.exports={header:"header_header__3p7LH"}},396:function(e,t,a){e.exports={footer:"footer_footer__15JWM"}},399:function(e,t,a){},483:function(e,t,a){e.exports=a(800)},637:function(e,t,a){e.exports={p__grid:"ProductsGrid_p__grid__y0eGP","column-header":"ProductsGrid_column-header__3hwVn"}},781:function(e,t,a){},800:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=a(19),u=a(37),i=a(15),s=a.n(i),m=a(27),d=a(20),E=a(26),p=a(21),f=a(288),v=function(){function e(){Object(E.a)(this,e)}return Object(p.a)(e,null,[{key:"getToken",value:function(){try{return localStorage.getItem(e.STORAGE_KEY)}catch(t){return console.log("GetToken error",t),null}}},{key:"decodeToken",value:function(){var t=Object(m.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getToken();case 2:if(!(a=t.sent)){t.next=11;break}return t.prev=4,t.abrupt("return",Object(f.a)(a));case 8:return t.prev=8,t.t0=t.catch(4),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[4,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"getClientId",value:function(){var t=Object(m.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,localStorage.getItem(e.CLIENT_ID);case 3:if(a=t.sent){t.next=6;break}return t.abrupt("return",null);case 6:return a=JSON.parse(a),t.abrupt("return",a);case 10:return t.prev=10,t.t0=t.catch(0),console.log("AuthStore: ",t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()},{key:"setClientId",value:function(){var t=Object(m.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify(a),t.abrupt("return",localStorage.setItem(e.CLIENT_ID,n));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"setToken",value:function(t){localStorage.setItem(e.STORAGE_KEY,t)}},{key:"removeToken",value:function(){localStorage.removeItem(e.CLIENT_ID),localStorage.removeItem(e.STORAGE_KEY)}},{key:"removeClientId",value:function(){localStorage.removeItem(e.CLIENT_ID)}}]),e}();v.STORAGE_KEY="userToken",v.CLIENT_ID="clientId";var b=Object(n.createContext)({user:null,loadingUser:!0,setUser:function(){},logOut:function(){}});var h=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!0),u=Object(d.a)(o,2),i=u[0],E=u[1],p=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getClientId();case 2:(t=e.sent)&&l(t),E(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return window.onload=function(){p()},function(){}}),[]),r.a.createElement(b.Provider,{value:{user:c,loadingUser:i,setUser:l,logOut:function(){v.removeClientId(),l(null),window.location.replace("/login")}}},e.children)},C=a(61),O=a(392),N=Object(O.create)({baseURL:""});N.addAsyncRequestTransform(function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getToken();case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return");case 5:t.headers.Authorization="Bearer "+a;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var g=N,y=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n,r,c,l=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:1,a=l.length>1&&void 0!==l[1]?l[1]:30,n=l.length>2&&void 0!==l[2]?l[2]:"",r=l.length>3?l[3]:void 0,e.next=6,v.getClientId();case 6:return c=e.sent,r&&(c.key=r),e.abrupt("return",g.post("/products?size=".concat(a,"&page=").concat(t,"&q=").concat(n),c));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.post("/products/checkout",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=a(29),x=function(e){return function(e){localStorage.setItem("cart",JSON.stringify(e.length>0?e:[]))}(e),{itemCount:e.reduce((function(e,t){return e+t.quantity}),0),total:e.reduce((function(e,t){return e+t.price*t.quantity}),0).toFixed(2)}},R=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],A=Object(C.a)({cartItems:R},x(R),{checkout:!1}),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":return e.cartItems.find((function(e){return e.id===t.payload.id}))||e.cartItems.push(Object(C.a)({},t.payload,{quantity:1})),Object(C.a)({},e,{},x(e.cartItems),{cartItems:Object(w.a)(e.cartItems)});case"REMOVE_ITEM":return Object(C.a)({},e,{},x(e.cartItems.filter((function(e){return e.id!==t.payload.id}))),{cartItems:Object(w.a)(e.cartItems.filter((function(e){return e.id!==t.payload.id})))});case"INCREASE":return e.cartItems[e.cartItems.findIndex((function(e){return e.id===t.payload.id}))].quantity++,Object(C.a)({},e,{},x(e.cartItems),{cartItems:Object(w.a)(e.cartItems)});case"DECREASE":return e.cartItems[e.cartItems.findIndex((function(e){return e.id===t.payload.id}))].quantity--,Object(C.a)({},e,{},x(e.cartItems),{cartItems:Object(w.a)(e.cartItems)});case"CHECKOUT":return Object(C.a)({cartItems:[],checkout:!0},x([]));case"CLEAR":return Object(C.a)({cartItems:[]},x([]));default:return e}},T=a(113),k=a(806),S=a(865),M=a(870),P=a(868),D=a(867),_=a(464),U=a(804),L=a(458),Y=a(820),q=Object(T.a)((function(e){return{container:{},formControl:{width:"100%"}}}));function G(e){var t=e.handleChange,a=e.open,n=e.handleClose,c=e.handleSubmit,l=e.warehouse,o=q();return r.a.createElement("div",null,r.a.createElement(S.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:a,onClose:n},r.a.createElement(D.a,null,"Select a warehouse"),r.a.createElement(P.a,null,r.a.createElement(L.a,{className:o.formControl},r.a.createElement(_.a,{htmlFor:"demo-dialog-native"},"Warehouse"),r.a.createElement(Y.a,{native:!0,value:l,onChange:t,input:r.a.createElement(U.a,{id:"demo-dialog-native"})},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:1e3},"Main"),r.a.createElement("option",{value:2e3},"Vitrina")))),r.a.createElement(M.a,null,r.a.createElement(k.a,{onClick:n,color:"primary"},"Cancel"),r.a.createElement(k.a,{onClick:c,color:"primary"},"Ok"))))}var V=Object(n.createContext)(),F=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],B=Object(C.a)({cartItems:F},x(F),{checkout:!1}),H=function(e){var t=e.children,a=Object(n.useReducer)(j,B),c=Object(d.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(""),i=Object(d.a)(u,2),E=i[0],p=i[1],f=Object(n.useState)(null),v=Object(d.a)(f,2),b=v[0],h=v[1],O=Object(n.useState)(!1),N=Object(d.a)(O,2),g=N[0],y=N[1],I=function(){p(""),h(null),y(!1)},w=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o({type:"CHECKOUT"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=Object(C.a)({removeProduct:function(e){o({type:"REMOVE_ITEM",payload:e})},addProduct:function(e){h(e),y(!0)},increase:function(e){o({type:"INCREASE",payload:e})},decrease:function(e){o({type:"DECREASE",payload:e})},clearCart:function(){o({type:"CLEAR"})},handleCheckout:w},l);return r.a.createElement(V.Provider,{value:x},t,r.a.createElement(G,{handleChange:function(e){return p(e.target.value||"")},open:g,handleClose:I,handleSubmit:function(){if(0!==E.trim().length){var e=b;e.raw.WHOUSE=E,o({type:"ADD_ITEM",payload:e}),I()}},warehouse:E}))},K=function(e){var t=e.width;return r.a.createElement("svg",{width:t,fill:"currentColor",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z",clipRule:"evenodd",fillRule:"evenodd"}))},z=function(e){var t=e.width;return r.a.createElement("svg",{width:t,fill:"currentColor",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd",fillRule:"evenodd"}))},J=function(e){var t=e.width;return r.a.createElement("svg",{width:t,fill:"currentColor",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd",fillRule:"evenodd"}))},W=(a(394),a(396),a(198)),Q=(a(558),a(890),a(888)),X=a(887),$=(a(891),a(895),a(889),function(e){return e=parseFloat(e),new Intl.NumberFormat("el-GR",{style:"currency",currency:"EUR"}).format(e)}),Z=function(e){var t=e.product,a=Object(n.useContext)(V),c=a.increase,l=a.decrease,o=a.removeProduct;return r.a.createElement("div",{className:"row no-gutters py-2"},r.a.createElement("div",{className:"col-sm-2 p-2"}),r.a.createElement("div",{className:"col-sm-4 p-2"},r.a.createElement("h5",{className:"mb-1"},t.name),r.a.createElement("p",{className:"mb-1"},"Price: ",$(t.price)," ")),r.a.createElement("div",{className:"col-sm-2 p-2 text-center "},r.a.createElement("p",{className:"mb-0"},"Qty: ",t.quantity)),r.a.createElement("div",{className:"col-sm-4 p-2 text-right"},r.a.createElement("button",{onClick:function(){return c(t)},className:"btn btn-primary btn-sm mr-2 mb-1"},r.a.createElement(z,{width:"20px"})),t.quantity>1&&r.a.createElement("button",{onClick:function(){return l(t)},className:"btn btn-danger btn-sm mb-1"},r.a.createElement(K,{width:"20px"})),1===t.quantity&&r.a.createElement("button",{onClick:function(){return o(t)},className:"btn btn-danger btn-sm mb-1"},r.a.createElement(J,{width:"20px"}))))},ee=a(399),te=a.n(ee),ae=function(){var e=Object(n.useContext)(V).cartItems;return r.a.createElement("div",{className:te.a.p__container},r.a.createElement("div",{className:"card card-body border-0"},e.map((function(e){return r.a.createElement(Z,{key:e.id,product:e})}))))},ne=a(871),re=a(410),ce=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(),o=Object(d.a)(l,2),u=o[0],i=o[1],E=Object(n.useState)(!1),p=Object(d.a)(E,2),f=p[0],v=p[1];return{error:r,loading:f,data:u,request:function(){var t=Object(m.a)(s.a.mark((function t(){var a,n=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),c(!1),i(null),t.next=5,e.apply(void 0,n);case 5:if(a=t.sent,v(!1),console.log("response",a),a.ok){t.next=11;break}return c(a.data),t.abrupt("return",a);case 11:return c(!1),i(a.data),t.abrupt("return",a);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}},le=a(400),oe=a.n(le),ue=function(e){var t=e.products,a=e.invoice,n=r.a.createRef();return r.a.createElement("div",null,r.a.createElement(oe.a,{trigger:function(){return r.a.createElement("button",{className:"btn btn-primary "},"Print Invoice")},content:function(){return n.current}}),r.a.createElement("div",{ref:n,style:{width:280}},r.a.createElement("h2",{className:" ml-4 mt-4"},null===a||void 0===a?void 0:a.caption),r.a.createElement("table",{class:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ERP CODE"),r.a.createElement("th",{scope:"col"},"PRODUCT NAME"),r.a.createElement("th",{scope:"col"},"QUANTITY"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},e.raw.ERPCODE_CODE),r.a.createElement("th",{scope:"row"},e.name),r.a.createElement("th",{scope:"row"},e.quantity))}))))))},ie=function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],l=a[1],u=Object(n.useContext)(V),i=u.total,E=u.cartItems,p=u.itemCount,f=u.clearCart,b=u.checkout,h=u.handleCheckout;Object(n.useEffect)((function(){return b||l(E),function(){}}),[E]);var O=ce(I),N=O.request,g=O.loading,y=(O.error,O.data),w=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getClientId();case 2:return t=e.sent,a={CLIENTID:t.clientID,APPID:1001,SERVICE:"SetData",OBJECT:"SALDOC",KEY:"",FORM:"",DATA:{SALDOC:[{SERIES:"7001",TRDR:"11971",PAYMENT:"1003"}],ITELINES:E.map((function(e,t){return Object(C.a)({},e.raw,{LINENUM:9000002+t,QTY1:e.quantity,PRICE:parseFloat(e.raw.PRICER)})})),SRVLINES:[]}},e.next=6,N(a);case 6:h();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(ne.a,Object.assign({},e,{title:"Cart",description:"This is the Cart page"}),r.a.createElement(re.a,null,r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement("h1",null,"Cart"),r.a.createElement("p",null,"This is the Cart Page.")),r.a.createElement("div",{className:"row no-gutters justify-content-center"},E.length>0?r.a.createElement("div",{className:"col-sm-9 p-3"},r.a.createElement(ae,null)):r.a.createElement("div",{className:"p-3 text-center text-muted"},"Your cart is empty"),b&&r.a.createElement("div",{className:"col-sm-12 p-3"},r.a.createElement(ue,{products:c,invoice:y}),r.a.createElement("div",{className:"p-3 text-center text-success"},r.a.createElement("p",null,"Checkout successful"),r.a.createElement(o.b,{to:"/products",className:"btn btn-outline-success btn-sm"},"BUY MORE"))),E.length>0&&r.a.createElement("div",{className:"col-sm-3 p-3"},r.a.createElement("div",{className:"card card-body"},r.a.createElement("p",{className:"mb-1"},"Total Items"),r.a.createElement("h4",{className:" mb-3 txt-right"},p),r.a.createElement("p",{className:"mb-1"},"Total Payment"),r.a.createElement("h3",{className:"m-0 txt-right"},$(i)),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{type:"button",className:"btn btn-primary mb-2",onClick:w},g?"Please wait...":"CHECKOUT"),r.a.createElement("button",{type:"button",className:"btn btn-outlineprimary btn-sm",onClick:f},"CLEAR")))))))},se={getList:function(){var e=Object(m.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.pagination,r=a.filter,e.next=3,y(n.page,n.perPage,r.q);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getOne:function(e,t){return Promise.resolve({data:{id:1}})},getMany:function(e,t){return Promise},getManyReference:function(e,t){return Promise},create:function(e,t){return Promise},update:function(){var e=Object(m.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),updateMany:function(e,t){return Promise},delete:function(e,t){return Promise},deleteMany:function(e,t){return Promise}},me=a(88),de=function(e){var t=e.source,a=e.record,r=void 0===a?{}:a;return n.createElement("span",null,$(r[t]))},Ee=a(879),pe=a(233),fe=(a(637),a(892)),ve=a(143),be=function(e){return r.a.createElement(fe.a,e,r.a.createElement(ve.a,{label:"Search",source:"q",alwaysOn:!0}),r.a.createElement(ve.a,{label:"Title",source:"PRODUCTNAME_NAME",defaultValue:"Hello, World!"}))},he=a(876),Ce=function(){var e=Object(he.a)();e.basePath,e.resource;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"text-center"},"No products available")))},Oe=function(e){e.source;var t=e.record,a=void 0===t?{}:t,r={name:a.PRODUCTNAME_NAME,price:a.PRICER,id:a.MTRL,raw:a},c=n.useContext(V),l=c.addProduct,o=c.cartItems,u=c.increase,i=o.find((function(e){return e.id==r.id})),s=function(e){return!!o.find((function(t){return t.id===e.id}))};return n.createElement("div",{className:"px-2"},s(r)&&n.createElement("div",{onClick:function(){return u(r)},className:"btn  d-flex"},n.createElement("i",{className:"fa fa-cart-plus fa-2x mr-2"}),n.createElement("span",{className:"badge badge-danger justify-content-center align-items-center d-flex",style:{width:30,height:30,borderRadius:15}},null===i||void 0===i?void 0:i.quantity)),!s(r)&&n.createElement("div",{onClick:function(){return l(r)},className:"btn  d-flex"},n.createElement("i",{className:"fa fa-cart-plus fa-2x mr-2"})))},Ne=a(821),ge=a(875),ye=a(57),Ie=a(878),we=Object(n.createContext)(),xe=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(d.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(null),i=Object(d.a)(u,2),s=i[0],m=i[1];return r.a.createElement(we.Provider,{value:{handleSetCurrentProduct:function(e){m(e),o(!0)}}},t,r.a.createElement(Ne.a,{open:l,onClose:function(){o(!1),m(null)},className:"p-5  justify-content-center d-flex","aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement(ge.a,{className:"p-5",style:{width:"60%",overflowY:"scroll"}},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(ye.a,{variant:"h4"},"Product details #",null===s||void 0===s?void 0:s.MTRL),r.a.createElement(k.a,{variant:"contained",color:"default",onClick:function(){o(!1),m(!1)}},"Close")),r.a.createElement(Ie.a,null),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h5",null,"Product Name"),r.a.createElement("p",null,null===s||void 0===s?void 0:s.PRODUCTNAME_NAME),r.a.createElement("h5",null,"EAN CODE"),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.EANCODE)||"N/A"),r.a.createElement("h5",null,"MANUFACTURE CODE "),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.MANUFACTURECODE)||"N/A"),r.a.createElement("h5",null,"VALUE ADDED TAX"),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.VAT)||"N/A"),r.a.createElement("h5",null,"VATNAME"),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.VATNAME)||"N/A"),r.a.createElement("h5",null,"MTR UNIT 1"),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.MTRUNIT1)||"N/A"),r.a.createElement("h5",null,"MTR UNIT 2"),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.MTRUNIT2)||"N/A"),r.a.createElement("h5",null,"MTR UNIT3"),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.MTRUNIT3)||"N/A"),r.a.createElement("h5",null,"MTR CATEGORY "),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.MTRCATEGORY)||"N/A"),r.a.createElement("h5",null,"MTR CATEGORY 1 "),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.MTRCATEGORY_1)||"N/A"),r.a.createElement("h5",null,"COMMERCIAL CATEGORY NAME "),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.COMMERCIAL_CATEGORY_NAME)||"N/A"),r.a.createElement("h5",null,"MTR GROUP"),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.MTRGROUP)||"N/A"),r.a.createElement("h5",null,"PRICER"),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.PRICER)||"N/A"),r.a.createElement("h5",null,"PRICEW"),r.a.createElement("p",null,(null===s||void 0===s?void 0:s.PRICEW)||"N/A")))))},Re=function(e){e.source;var t=e.record,a=void 0===t?{}:t,c=Object(n.useContext)(we).handleSetCurrentProduct;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("i",{className:"fa fa-eye fa-2x text-info"}),r.a.createElement("button",{onClick:function(){return c(a)},className:" btn btn-link pl-2 text-info"},r.a.createElement("span",null,"Show"))))},Ae=a(105),je=function(e){var t=Object(n.useContext)(V).itemCount;return r.a.createElement(Ae.a,e,r.a.createElement(o.b,{to:"/cart/1/show",className:""},r.a.createElement("h4",null,r.a.createElement("i",{className:"fa fa-shopping-cart"})," Cart (",t,")")))},Te=function(e){return n.createElement(Ee.a,Object.assign({},e,{title:"KOlleris - store",empty:n.createElement(Ce,null),filters:n.createElement(be,{context:"form"}),actions:n.createElement(je,null)}),n.createElement(pe.a,{hover:!0},n.createElement(me.a,{source:"PRODUCTNAME_NAME",label:"PRODUCT NAME",headerClassName:"column-header "}),n.createElement(me.a,{source:"ERPCODE_CODE",label:"ERPCODE",headerClassName:"column-header "}),n.createElement(me.a,{source:"EANCODE",label:"EANCODE",headerClassName:"column-header "}),n.createElement(me.a,{source:"MANUFACTURECODE",label:"MANUFACTURE",headerClassName:"column-header "}),n.createElement(me.a,{source:"COMMERCIAL_CATEGORY_NAME",label:"COMMERCIAL CATEGORY NAME",headerClassName:"column-header "}),n.createElement(de,{source:"PRICER",label:"PRICER",headerClassName:"column-header"}),n.createElement(Oe,{source:"ADD TO CART",label:"Cart"}),n.createElement(Re,null)))},ke=a(3),Se=a(232),Me=(a(682),a(139)),Pe=function(e){var t=e.initialValues,a=e.handleSubmit,n=e.validationSchema,c=e.children;return r.a.createElement("div",{className:"form"},r.a.createElement(Me.a,{initialValues:t,validationSchema:n,onSubmit:function(e){return a(e)}},(function(){return c})))},De=function(e){var t=e.error;return e.visible?r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:12},className:"text-danger mt-1"},t)):null},_e=function(e){var t=e.name,a=e.onBlur,n=e.label,c=e.helpText,l=Object(ke.a)(e,["name","onBlur","label","helpText"]),o=Object(Me.b)(),u=o.setFieldValue,i=o.errors,s=o.touched,m=o.setFieldTouched;return r.a.createElement("div",{className:"form-group"},n&&r.a.createElement("label",{className:"form-group-label text-dark"},n),r.a.createElement("input",Object.assign({className:"form-control"},l,{onChange:function(e){return u(t,e.target.value)},onBlur:function(){a&&a(),m(t)}})),c&&r.a.createElement("p",{className:"text-info"},c),r.a.createElement(De,{visible:s[t],error:i[t]}))},Ue=a(241),Le=function(e){var t=e.loading,a=e.title,n=void 0===a?"Save":a,c=Object(Me.b)().handleSubmit;return r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return c()},type:"button",disabled:t},t?"Loading...":n)},Ye=a(886),qe=Ue.a({username:Ue.b().email().required().label("Email Address"),password:Ue.b().required().label("Password")});var Ge=function(){var e=Object(Ye.a)(),t=ce(e),a=t.loading,c=t.error,l=t.request,i=Object(u.g)(),d=Object(n.useContext)(b).setUser,E=function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:if((a=e.sent).ok||Se.b.warn("Incorrect username or password"),!a.ok){e.next=9;break}return e.next=7,v.setClientId(a.data);case 7:d(a.data),i.push("/");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:" row justify-content-center align-items-center mx-0",style:{minHeight:" 100vh",width:"100%"}},r.a.createElement("div",{className:"col-md-6 col-lg-4 col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"card-title"},"Kolleris |"," ",r.a.createElement("small",{className:"text-secondary"},"Login"))),r.a.createElement("div",{className:"card-body"},c&&r.a.createElement("p",{className:"text-danger"},c),r.a.createElement(Pe,{initialValues:{username:"",password:""},handleSubmit:E,validationSchema:qe},r.a.createElement(_e,{name:"username",placeholder:"Your email address",label:"Email"}),r.a.createElement(_e,{name:"password",placeholder:"Your password",label:"Password",type:"password"}),r.a.createElement(Le,{title:"Login",loading:a}),r.a.createElement("span",{className:"ml-3"}," ",r.a.createElement(o.b,{to:"/signup"},"Signup")," instead"," "))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(781);var Ve={login:function(e){var t,a=e.username,n=e.password;return console.log("credd",a,n),t={email:a,password:n},g.post("/users/auth",t).then(function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=3;break}return e.next=3,v.setClientId(t.data);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},checkError:function(e){console.log("Auth error",e)},checkAuth:function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getClientId();case 2:if(!e.sent){e.next=6;break}e.t0=Promise.resolve(),e.next=7;break;case 6:e.t0=Promise.reject({status:401});case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.removeClientId();case 2:return e.abrupt("return",Promise.resolve("/login"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getIdentity:function(){return v.getClientId()},getPermissions:function(e){return Promise.resolve()}},Fe=(a(899),a(452),a(216)),Be=a(451),He=a.n(Be),Ke=a(450),ze=He()(Object(Ke.merge)({},Fe.a,{palette:{secondary:{main:"#353434"}}})),Je=function(){return r.a.createElement(Q.a,{authProvider:Ve,loginPage:Ge,dataProvider:se,theme:ze},r.a.createElement(X.a,{name:"products",list:Te}),r.a.createElement(X.a,{name:"cart",show:ie}))};l.a.render(r.a.createElement(h,null,r.a.createElement(W.b,null,r.a.createElement(xe,null,r.a.createElement(H,null,r.a.createElement(Je,null))),r.a.createElement(Se.a,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[483,1,2]]]);
//# sourceMappingURL=main.c0eba07d.chunk.js.map